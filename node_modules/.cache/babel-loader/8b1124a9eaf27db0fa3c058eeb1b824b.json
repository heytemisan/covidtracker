{"ast":null,"code":"import _regeneratorRuntime from\"/home/temisan/Desktop/broject/covid-19-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/temisan/Desktop/broject/covid-19-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/temisan/Desktop/broject/covid-19-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./App.css';import{FormControl,MenuItem,Select,Card,CardContent}from'@mui/material';import InfoBox from'./InfoBox';import Map from'./Map';import Table from'./Table';import'./Table.css';import{prettyPrintStat,sortData}from\"./util\";import LineGraph from'./LineGraph';import\"leaflet/dist/leaflet.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),countries=_useState2[0],setCountries=_useState2[1];var _useState3=useState(\"worldwide\"),_useState4=_slicedToArray(_useState3,2),country=_useState4[0],setCountry=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),countryInfo=_useState6[0],setCountryInfo=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),tableData=_useState8[0],setTableData=_useState8[1];var _useState9=useState({lat:34.80746,lng:-40.4796}),_useState10=_slicedToArray(_useState9,2),mapCenter=_useState10[0],setMapCenter=_useState10[1];var _useState11=useState(3),_useState12=_slicedToArray(_useState11,2),mapZoom=_useState12[0],setMapZoom=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),mapCountries=_useState14[0],setMapCountries=_useState14[1];var _useState15=useState(\"cases\"),_useState16=_slicedToArray(_useState15,2),casesType=_useState16[0],setCasesType=_useState16[1];useEffect(function(){fetch(\"https://disease.sh/v3/covid-19/all\").then(function(response){return response.json();}).then(function(data){setCountryInfo(data);});},[]);//once APP loads the useEffect gets triggered once.\nuseEffect(function(){//async -> send request & wait for it\nvar getCountriesData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://disease.sh/v3/covid-19/countries\").then(function(response){return response.json();}).then(function(data){//restructure json tree-> map essentially loops through the array and returns a modified array\nvar countries=data.map(function(country){return{name:country.country,//United States, Nigeria\nvalue:country.countryInfo.iso2//UK, NG, FR\n};});var sortedData=sortData(data);setTableData(sortedData);setMapCountries(data);setCountries(countries);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getCountriesData(){return _ref.apply(this,arguments);};}();getCountriesData();},[]);var onCountryChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var countryCode,url;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:countryCode=e.target.value;url=countryCode===\"worldwide\"?\"https://disease.sh/v3/covid-19/all\":\"https://disease.sh/v3/covid-19/countries/\".concat(countryCode);_context2.next=4;return fetch(url).then(function(response){return response.json();}).then(function(data){setCountry(countryCode);//update input field\n//update input field\nsetCountryInfo(data);//get all data\n//get all data\nsetMapCenter([data.countryInfo.lat,data.countryInfo.lng]);setMapZoom(4);});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function onCountryChange(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app__header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"COVID-19 TRACKER\"}),/*#__PURE__*/_jsx(FormControl,{className:\"app__dropdown\",children:/*#__PURE__*/_jsxs(Select,{variant:\"outlined\",value:country,onChange:onCountryChange,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"worldwide\",children:\"Worldwide\"}),//map essentially loops through the array\ncountries.map(function(country){return/*#__PURE__*/_jsx(MenuItem,{value:country.value,children:country.name});})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"app__stats\",children:[/*#__PURE__*/_jsx(InfoBox,{isRed:true,active:casesType===\"cases\",onClick:function onClick(e){return setCasesType('cases');},title:\"Coronavirus Cases\",total:prettyPrintStat(countryInfo.todayCases),cases:prettyPrintStat(countryInfo.cases)}),/*#__PURE__*/_jsx(InfoBox,{active:casesType===\"recovered\",onClick:function onClick(e){return setCasesType('recovered');},title:\"Recovered\",total:prettyPrintStat(countryInfo.todayRecovered),cases:prettyPrintStat(countryInfo.recovered)}),/*#__PURE__*/_jsx(InfoBox,{isRed:true,active:casesType===\"deaths\",onClick:function onClick(e){return setCasesType('deaths');},title:\"Deaths\",total:prettyPrintStat(countryInfo.todayDeaths),cases:prettyPrintStat(countryInfo.deaths)})]}),/*#__PURE__*/_jsx(Map,{casesType:casesType,zoom:mapZoom,center:mapCenter,countries:mapCountries})]}),/*#__PURE__*/_jsx(Card,{className:\"app__right\",children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Live Cases by Country\"}),/*#__PURE__*/_jsx(Table,{countries:tableData}),/*#__PURE__*/_jsxs(\"h3\",{className:\"app__graphTitle \",children:[\"Worldwide new \",casesType]}),/*#__PURE__*/_jsx(LineGraph,{className:\"app__graph\",casesType:casesType}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center m-3 py-2 border rounded-pill\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-dark\",style:{fontFamily:'Ephesis'},children:[\"Created By Temisan. \",/*#__PURE__*/_jsx(\"a\",{class:\"social-icon-link-github\",href:\"https://www.facebook.com/temy.momodu\",target:\"_blank\",rel:\"noopener\",\"aria-label\":\"Facebook\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fab fa-facebook\"})})]})})]})})]});}export default App;","map":{"version":3,"sources":["/home/temisan/Desktop/broject/covid-19-tracker/src/App.js"],"names":["React","useState","useEffect","FormControl","MenuItem","Select","Card","CardContent","InfoBox","Map","Table","prettyPrintStat","sortData","LineGraph","App","countries","setCountries","country","setCountry","countryInfo","setCountryInfo","tableData","setTableData","lat","lng","mapCenter","setMapCenter","mapZoom","setMapZoom","mapCountries","setMapCountries","casesType","setCasesType","fetch","then","response","json","data","getCountriesData","map","name","value","iso2","sortedData","onCountryChange","e","countryCode","target","url","todayCases","cases","todayRecovered","recovered","todayDeaths","deaths","fontFamily"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'; \nimport './App.css';\nimport { FormControl, MenuItem, Select, Card, CardContent} from '@mui/material';\nimport InfoBox from './InfoBox';\nimport Map from './Map';\nimport Table from './Table';\nimport './Table.css';\nimport {prettyPrintStat, sortData} from \"./util\";\nimport LineGraph from './LineGraph';\nimport \"leaflet/dist/leaflet.css\";\n\nfunction App() {\n  const [countries, setCountries] = useState([]);\n  const [country, setCountry] = useState(\"worldwide\");\n  const [countryInfo, setCountryInfo] = useState({});\n  const [tableData, setTableData]= useState([]);\n  const [mapCenter, setMapCenter]= useState({lat: 34.80746, lng: -40.4796});\n  const [mapZoom, setMapZoom] = useState(3);\n  const [mapCountries, setMapCountries] = useState([]);\n  const [casesType, setCasesType] = useState(\"cases\");\n\n  useEffect(()=> {\n    fetch (\"https://disease.sh/v3/covid-19/all\")\n    .then(response => response.json())\n    .then((data)=> {\n      setCountryInfo(data);\n    });\n  }, []);\n\n  //once APP loads the useEffect gets triggered once.\n  useEffect(()=> {\n    //async -> send request & wait for it\n    const getCountriesData = async () => {\n      await fetch(\"https://disease.sh/v3/covid-19/countries\")\n      .then((response) => response.json())\n      .then((data)=> {\n        //restructure json tree-> map essentially loops through the array and returns a modified array\n        const countries = data.map((country)=> ({\n          name: country.country, //United States, Nigeria\n          value: country.countryInfo.iso2, //UK, NG, FR\n        }));\n\n        const sortedData = sortData(data);\n        setTableData(sortedData);\n        setMapCountries(data);\n        setCountries(countries);\n      });\n    };\n    getCountriesData();\n  }, []);\n\n  const onCountryChange = async (e) => {\n    const countryCode = e.target.value; \n    const url = \n    countryCode === \"worldwide\" \n    ? \"https://disease.sh/v3/covid-19/all\"\n    : `https://disease.sh/v3/covid-19/countries/${countryCode}`;\n\n    await fetch(url)\n    .then((response) => response.json())\n    .then((data)=> {\n      setCountry(countryCode); //update input field\n      setCountryInfo(data); //get all data\n      setMapCenter([data.countryInfo.lat, data.countryInfo.lng]);\n      setMapZoom(4);\n    });\n  };\n \n  return (\n    <div className=\"app\">\n      <div className=\"app__left\">\n        <div className=\"app__header\">\n          <h1>COVID-19 TRACKER</h1>\n          <FormControl className=\"app__dropdown\">\n            {/* {loop through all the countries and a show a drop down list of the options} */}\n            <Select variant=\"outlined\" value={country} onChange={onCountryChange}>\n                <MenuItem value=\"worldwide\">Worldwide</MenuItem>\n              {\n                //map essentially loops through the array\n                countries.map((country)=> (\n                  <MenuItem value={country.value}>{country.name}</MenuItem>\n                ))\n              }            \n            </Select>\n          </FormControl>\n        </div>\n        <div className=\"app__stats\">\n            <InfoBox \n            isRed\n            active={casesType === \"cases\"}\n            onClick={(e)=> setCasesType('cases')}\n              title=\"Coronavirus Cases\" \n              total={prettyPrintStat(countryInfo.todayCases)} \n              cases={prettyPrintStat(countryInfo.cases)}/>\n\n            <InfoBox \n            active={casesType === \"recovered\"}\n            onClick={(e) => setCasesType('recovered')}\n              title=\"Recovered\" \n              total={prettyPrintStat(countryInfo.todayRecovered)} \n              cases={prettyPrintStat(countryInfo.recovered)}/>\n\n            <InfoBox \n            isRed\n            active={casesType === \"deaths\"}\n            onClick={(e)=> setCasesType('deaths')}\n              title=\"Deaths\" \n              total={prettyPrintStat(countryInfo.todayDeaths)} \n              cases={prettyPrintStat(countryInfo.deaths)}/>\n          </div>\n        <Map \n        casesType={casesType}\n        zoom= {mapZoom}\n        center={mapCenter}\n        countries={mapCountries}\n        />\n    </div>\n    <Card className=\"app__right\">\n      <CardContent>\n        <h3>Live Cases by Country</h3>\n        <Table countries={tableData}/>\n        <h3 className=\"app__graphTitle \">Worldwide new {casesType}</h3>\n        <LineGraph className=\"app__graph\" casesType={casesType}/>\n        <div className=\"text-center m-3 py-2 border rounded-pill\">\n          <h3 className=\"text-dark\" style={{fontFamily:'Ephesis'}}>Created By Temisan. <a\n          class='social-icon-link-github'\n          href=\"https://www.facebook.com/temy.momodu\"\n          target='_blank'\n          rel=\"noopener\"\n          aria-label='Facebook'  \n        >\n          <i class='fab fa-facebook'/>\n        </a></h3>\n        </div>\n      </CardContent>\n    </Card> \n    </div>\n  );\n} \n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}